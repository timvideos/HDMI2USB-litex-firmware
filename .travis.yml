sudo: required

language:
 - c

compiler:
  - gcc

env:
  matrix:
   - BOARD=atlys TARGET=base
   - BOARD=atlys TARGET=hdmi2usb
   - BOARD=atlys TARGET=hdmi2ethernet
   - BOARD=opsis TARGET=base
   - BOARD=opsis TARGET=hdmi2usb

install:
 - wget -q -O- https://raw.githubusercontent.com/mithro/travis-trusty/master/setup.sh | bash
 - chmod a+rx $PWD/.travis/*.sh
 - /trusty/run.py $PWD/.travis/setup.sh

script:
 - /trusty/run.py $PWD/.travis/run.sh

notifications:
 email:
  - hdmi2usb-spam@googlegroups.com
 irc:
  channels:
   - "chat.freenode.net#hdmi2usb"
   - "chat.freenode.net#timvideos"
  template:
   - "[%{repository_slug}/%{branch}#%{build_number}] (%{commit}): %{message} (%{build_url})"
